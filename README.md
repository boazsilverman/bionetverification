# bionetverification
Bionetverification is a tool used to model and verify the design of network-based biocomputation circuits for the SSP, ExCov and 3-SAT problems as part of the Bio4Comp project. The tool generates network description files in SMV and then runs them in the NuSMV model checker. Results of verification and their runtimes are saved in Excel files based on the provided template files.

Each run generates a new local directory that holds all generated smv files, output results, and excel data files. The directory name is of the format:
```sh
bionetverification_out_{0}
```
Where {0} is the index of the run of the script.

## 0. Contents
1. Built With 
2. Setup
3. System Requirements
4. Usage
5. Additional Files

## 1. Built With
For scripts to run properly the following must be installed:
* [NuSMV](http://nusmv.fbk.eu/)
* [MiniSat](http://minisat.se/)
* [CNFgen](https://massimolauria.net/cnfgen/)

## 2. Setup
### Prerequisites
Before running the scripts, run the following to make sure all prerequisites are installed. In order to install python packages, it is recommended to use pip.

#### Automated installation
All prerequisite installations and setups are located in the `install_additionals.sh` bash script. This should be run as:
```sh
. install_additionals.sh
```

The script prompts for confirmation (y) and for sudo access.

### Running the scripts
The scripts are run using python 
```sh
python bionetverification.py
```
or
```sh
python3 bionetverification.py
```

## 3. System Requirements
Bionetverification has been tested on systems running Linux (Ubuntu 18.04.5 LTS, Ubuntu 20.04.1 LTS)
* RAM: 4 GB
* Number of Cores: 2
* CPU freq: 1.30GHz

Scripts should be run using Python 3.

## 4. Usage
See `Examples` for examples of runs for each of the problem types described below. Each problem includes the generated Excel file, the generated smv files and the input file used.

All input files to be used when running should be saved in the `Inputs` directory. Sample input files for SSP and ExCov are included.

### SSP
An input file containing the problems to be looked at is necessary. Format of the input file is expected to be a derivative of the DIMACS format. Each row is a new set, mark end of line with 0. So the SSP for S = {2, 5, 9} would be denoted as:
```sh
2 5 9 0
```
There is the option to run NuSMV on the generated network descriptions using 3 methods:
1. Bulk run output specifications (Table 5)
2. Run individual output specifications (Table 6)
3. Run general valid-invalid output specifications (Table 7)

When a method is selected, it runs on the full list of input problems.

The Excel output file contains one sheet per method above:
1. Bulk_OutSpec
2. Single_OutSpec
3. SSP_GenSpec

Each sheet contains information on the problem being looked at such as relevant file names, verification runtime, verification result and/or result output file. This is done for the specifications described in Tables 1 and 2. Methods 1 and 2 run on specifications from Table 1 and method 3 runs on specifications from Table 2.

### ExCov
An input file with the problems to be looked at is necessary. Format of the input file is another derivative of the DIMACS format. Please see the `ExCov_Input` file under `Inputs` for more information.

The Excel output file contains information on the problems run such as relevant file names, exact cover existence, verification runtimes, verification result and output file. This is run on the specification as described in Table 1 for the exact cover output 'k'. The Excel file reflects a subset of Table 10.

### 3-SAT
The tool generates random 3-SAT problems. The number of problems to be generated and the maximum number of literals are entered by the user when prompted. Example runs for SAT were run using the following input values:
* 10 samples (number of problems)
* 20 literals maximum

The Excel output file contains the MiniSat satisfiability result of each randomly generated problem along with the verification results (parsed as satisfiable or unsatisfiable) and runtimes for specifications defined in Table 4. The Excel file reflects Table 12.

## 5. Additional Files
Templates for Excel files are saved under `Template`.

Examples SMV and Excel outputs of runs on the SSP, ExCov and SAT problems are included in `Examples`.

Examples of SMV network descriptions with induced errors are included for SSP and ExCov. These are located in `SSP_BN` and `ExCov_BN`. These examples are used to show the correctness of the network descriptions by comparing their verification results with those of the valid networks generated by the scripts. They were manually constructed and individually run in NuSMV. Verification results were included in Tables 9 and 11.